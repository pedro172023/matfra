$(function() {
    var c;
    var num;
    var den;
    var num1;
    var den1;
    var v = document.getElementsByTagName("audio")[0];
    var v1 = document.getElementsByTagName("audio")[1];
    $('#uno').draggable({
        start: function() {
            v.play();
            this.css('-webkit-transform', 'scale(2)');

        },
        stop: function() {
            this.css('-webkit-transform', 'scale(1)');
            c = 1;
        }
    });
    $('#dos').draggable({
        start: function() {
            v.play();
            this.css('-webkit-transform', 'scale(2)');
        },
        stop: function() {
            this.css('-webkit-transform', 'scale(1)');
            c = 2;
        }
    });
    $('#tres').draggable({
        start: function() {
            v.play();
            this.css('-webkit-transform', 'scale(2)');
        },
        stop: function() {
            this.css('-webkit-transform', 'scale(1)');
            c = 3;
        }
    });
    $('#cuatro').draggable({
        start: function() {
            v.play();
            this.css('-webkit-transform', 'scale(2)');
        },
        stop: function() {
            this.css('-webkit-transform', 'scale(1)');
            c = 4;
        }
    });
    $('#cinco').draggable({
        start: function() {
            v.play();
            this.css('-webkit-transform', 'scale(2)');
        },
        stop: function() {
            this.css('-webkit-transform', 'scale(1)');
            c = 5;
        }
    });
    $('#seis').draggable({
        start: function() {
            v.play();
            this.css('-webkit-transform', 'scale(2)');
        },
        stop: function() {
            this.css('-webkit-transform', 'scale(1)');
            c = 6;
        }
    });
    $('#siete').draggable({

        start: function() {
            v.play();
            this.css('-webkit-transform', 'scale(2)');
        },
        stop: function() {
            this.css('-webkit-transform', 'scale(1)');
            c = 7;
        }
    });
    $('#ocho').draggable({
        start: function() {
            v.play();
            this.css('-webkit-transform', 'scale(2)');
        },
        stop: function() {
            this.css('-webkit-transform', 'scale(1)');
            c = 8;
        }
    });
    $('#nueve').draggable({
        start: function() {
            v.play();
            this.css('-webkit-transform', 'scale(2)');
        },
        stop: function() {
            this.css('-webkit-transform', 'scale(1)');
            c = 9;
        }
    });
    $('#diez').draggable({
        start: function() {
            v.play();
            this.css('-webkit-transform', 'scale(2)');
        },
        stop: function() {
            this.css('-webkit-transform', 'scale(1)');
            c = 10;
        }
    });
    $('#uno2').draggable({
        start: function() {
            v.play();
            this.css('-webkit-transform', 'scale(2)');
        },
        stop: function() {
            this.css('-webkit-transform', 'scale(1)');
            c = 1;
        }
    });
    $('#dos2').draggable({
        start: function() {
            v.play();
            this.css('-webkit-transform', 'scale(2)');
        },
        stop: function() {
            this.css('-webkit-transform', 'scale(1)');
            c = 2;
        }
    });
    $('#tres2').draggable({
        start: function() {
            v.play();
            this.css('-webkit-transform', 'scale(2)');
        },
        stop: function() {
            this.css('-webkit-transform', 'scale(1)');
            c = 3;
        }
    });
    $('#cuatro2').draggable({
        start: function() {
            v.play();
            this.css('-webkit-transform', 'scale(2)');
        },
        stop: function() {
            this.css('-webkit-transform', 'scale(1)');
            c = 4;
        }
    });
    $('#cinco2').draggable({
        start: function() {
            v.play();
            this.css('-webkit-transform', 'scale(2)');
        },
        stop: function() {
            this.css('-webkit-transform', 'scale(1)');
            c = 5;
        }
    });
    $('#seis2').draggable({
        start: function() {
            v.play();
            this.css('-webkit-transform', 'scale(2)');
        },
        stop: function() {
            this.css('-webkit-transform', 'scale(1)');
            c = 6;
        }
    });
    $('#siete2').draggable({
        start: function() {
            v.play();
            this.css('-webkit-transform', 'scale(2)');
        },
        stop: function() {
            this.css('-webkit-transform', 'scale(1)');
            c = 7;
        }
    });
    $('#ocho2').draggable({
        start: function() {
            v.play();
            this.css('-webkit-transform', 'scale(2)');
        },
        stop: function() {
            this.css('-webkit-transform', 'scale(1)');
            c = 8;
        }
    });
    $('#nueve2').draggable({
        start: function() {
            v.play();
            this.css('-webkit-transform', 'scale(2)');
        },
        stop: function() {
            this.css('-webkit-transform', 'scale(1)');
            c = 9;
        }
    });
    $('#diez2').draggable({
        start: function() {
            v.play();
            this.css('-webkit-transform', 'scale(2)');
        },
        stop: function() {
            this.css('-webkit-transform', 'scale(1)');
            c = 10;
        }
    });
    $('#uno3').draggable({
        start: function() {
            v.play();
            this.css('-webkit-transform', 'scale(2)');
        },
        stop: function() {
            this.css('-webkit-transform', 'scale(1)');
            c = 1;
        }
    });
    $('#dos3').draggable({
        start: function() {
            v.play();
            this.css('-webkit-transform', 'scale(2)');
        },
        stop: function() {
            this.css('-webkit-transform', 'scale(1)');
            c = 2;
        }
    });
    $('#tres3').draggable({
        start: function() {
            v.play();
            this.css('-webkit-transform', 'scale(2)');
        },
        stop: function() {
            this.css('-webkit-transform', 'scale(1)');
            c = 3;
        }
    });
    $('#cuatro3').draggable({
        start: function() {
            v.play();
            this.css('-webkit-transform', 'scale(2)');
        },
        stop: function() {
            this.css('-webkit-transform', 'scale(1)');
            c = 4;
        }
    });
    $('#cinco3').draggable({
        start: function() {
            v.play();
            this.css('-webkit-transform', 'scale(2)');
        },
        stop: function() {
            this.css('-webkit-transform', 'scale(1)');
            c = 5;
        }
    });
    $('#seis3').draggable({
        start: function() {
            v.play();
            this.css('-webkit-transform', 'scale(2)');
        },
        stop: function() {
            this.css('-webkit-transform', 'scale(1)');
            c = 6;
        }
    });
    $('#siete3').draggable({
        start: function() {
            v.play();
            this.css('-webkit-transform', 'scale(2)');
        },
        stop: function() {
            this.css('-webkit-transform', 'scale(1)');
            c = 7;
        }
    });
    $('#ocho3').draggable({
        start: function() {
            v.play();
            this.css('-webkit-transform', 'scale(2)');
        },
        stop: function() {
            this.css('-webkit-transform', 'scale(1)');
            c = 8;
        }
    });
    $('#nueve3').draggable({
        start: function() {
            v.play();
            this.css('-webkit-transform', 'scale(2)');
        },
        stop: function() {
            this.css('-webkit-transform', 'scale(1)');
            c = 9;
        }
    });
    $('#diez3').draggable({
        start: function() {
            v.play();
            this.css('-webkit-transform', 'scale(2)');
        },
        stop: function() {
            this.css('-webkit-transform', 'scale(1)');
            c = 10;
        }
    });
    $('#uno4').draggable({
        start: function() {
            v.play();
            this.css('-webkit-transform', 'scale(2)');
        },
        stop: function() {
            this.css('-webkit-transform', 'scale(1)');
            c = 1;
        }
    });
    $('#dos4').draggable({
        start: function() {
            v.play();
            this.css('-webkit-transform', 'scale(2)');
        },
        stop: function() {
            this.css('-webkit-transform', 'scale(1)');
            c = 2;
        }
    });
    $('#tres4').draggable({
        start: function() {
            v.play();
            this.css('-webkit-transform', 'scale(2)');
        },
        stop: function() {
            this.css('-webkit-transform', 'scale(1)');
            c = 3;
        }
    });
    $('#cuatro4').draggable({
        start: function() {
            v.play();
            this.css('-webkit-transform', 'scale(2)');
        },
        stop: function() {
            this.css('-webkit-transform', 'scale(1)');
            c = 4;
        }
    });
    $('#cinco4').draggable({
        start: function() {
            v.play();
            this.css('-webkit-transform', 'scale(2)');
        },
        stop: function() {
            this.css('-webkit-transform', 'scale(1)');
            c = 5;
        }
    });
    $('#seis4').draggable({
        start: function() {
            v.play();
            this.css('-webkit-transform', 'scale(2)');
        },
        stop: function() {
            this.css('-webkit-transform', 'scale(1)');
            c = 6;
        }
    });
    $('#siete4').draggable({
        start: function() {
            v.play();
            this.css('-webkit-transform', 'scale(2)');
        },
        stop: function() {
            this.css('-webkit-transform', 'scale(1)');
            c = 7;
        }
    });
    $('#ocho4').draggable({
        start: function() {
            v.play();
            this.css('-webkit-transform', 'scale(2)');
        },
        stop: function() {
            this.css('-webkit-transform', 'scale(1)');
            c = 8;
        }
    });
    $('#nueve4').draggable({
        start: function() {
            v.play();
            this.css('-webkit-transform', 'scale(2)');
        },
        stop: function() {
            this.css('-webkit-transform', 'scale(1)');
            c = 9;
        }
    });
    $('#diez4').draggable({
        start: function() {
            v.play();
            this.css('-webkit-transform', 'scale(2)');
        },
        stop: function() {
            this.css('-webkit-transform', 'scale(1)');
            c = 10;
        }
    });
    $('#numerador').droppable({
        drop: function(e, dragEl, dropEl) {
            num = c;
            //den1 = c;
            dropEl.css('background-color', ' #fff');
            dragEl.css('-webkit-transform', 'scale(2)');
            mostrar();
            return true;
        }
    });
    $('#numeradoruno').droppable({
        drop: function(e, dragEl, dropEl) {
            //den = c;
            num1 = c;
            dropEl.css('background-color', ' #fff');
            dragEl.css('-webkit-transform', 'scale(2)');
            mostrar();
            return true;
        }
    });
    $('#denominador').droppable({
        drop: function(e, dragEl, dropEl) {
            den = c;
            //num1 = c;
            dropEl.css('background-color', ' #fff');
            dragEl.css('-webkit-transform', 'scale(2)')
            mostrar();
            /*setTimeout('location.reload();', 3000);*/
            return true;
        }
    });
    $('#denominadordos').droppable({
        drop: function(e, dragEl, dropEl) {
            //num = c;
            den1 = c;
            dropEl.css('background-color', ' #fff');
            dragEl.css('-webkit-transform', 'scale(2)')
            mostrar();
            //setTimeout('location.reload();', 3000);/*el tiempo que tardan los numeros en los cuadros*/
            return true;
        }
    });

var numeradores=new Array();
var denominadores=new Array();
numeradores = ["uno","dos","tres","cuatro","cinco","seis","siete","ocho","nueve","diez","once","doce","trece","catorce","quince","dieciséis","diecisiete","dieciocho","diecinueve","veinte","veintiuno","veintidós","veintitrés","veinticuatro","veinticinco","veintiséis","veintisiete","veintiocho","veintinueve","treinta","treinta y uno","treinta y dos","treinta y tres","treinta y cuatro","treinta y cinco","treinta y seis","treinta y siete","treinta y ocho","treinta y nueve","cuarenta","cuarenta y uno","cuarenta y dos","cuarenta y tres","cuarenta y cuatro","cuarenta y cinco","cuarenta y seis","cuarenta y siete","cuarenta y ocho","cuarenta y nueve","cincueta","cincueta y uno","cincueta y dos","cincueta y tres","cincueta y cuatro","cincueta y cinco","cincueta y seis","cincueta y siete","cincueta y ocho","cincueta y nueve","sesenta","sesenta y uno","sesenta y dos","sesenta y tres","sesenta y cuatro","sesenta y cinco","sesenta y seis","sesenta y siete","sesenta y ocho","sesenta y nueve","setenta","setenta y uno","setenta y dos","setenta y tres","setenta y cuatro","setenta y cinco","setenta y seis","setenta y siete","setenta y ocho","setenta y nueve","ochenta","ochenta y uno","ochenta y dos","ochenta y tres","ochenta y cuatro","ochenta y cinco","ochenta y seis","ochenta y siete","ochenta y ocho","ochenta y nueve","noventa","noventay uno","noventa y dos","noventa y tres","noventa y cuatro","noventa y cinco","noventa y seis","noventa y siete","noventa y ocho","noventa y nueve","cien"];

    denominadores = ["uno", "medio", "tercio", "cuarto", "quinto", "sexto", "septimo", "octavo", "noveno", "decimo", "onceavo ",
        "doceavo", "treceavo", "catorceavo", "quinceavo", "dieciseisavo", "diecisieteavo", "dieciochoavo", "diecinueveavo", "veinteavo", "veintiunavo", "veintidosavo", " veintitresavo", "veinticuatroavo", "veinticincoavo", "veintiseisavo", "veintisieteavo",
        "veintiochoavo", "veintinueveavo", "treintavo", "treintaiunoavo", "treintaidosavo", "treintaitresavo", "treintaicuatroavo", "treintaicincoavo", "treintaiseisavo", "treintaisieteavo", "treintaiochoavo", "treintainueveavo", "cuarentavo", "cuarentaiunoavo", "cuarentaidosavo", "cuarentaitresavo", "cuarentaicuatroavo", "cuarentaicincoavo", "cuarentaiseisavo", "cuarentaisieteavo",
        "cuarentaiochoavo", "cuarentainueveavo", "cincuentavo", "cincuentaiunoavo", "cincuentaidosavo", "cincuentaitresavo", "cincuentaicuatroavo", "cincuentaicincoavo", "cincuentaiseisavo", "cincuentaisieteavo", "cincuentaiochoavo", "cincuentainueveavo", "sesentavo", "sesentaiunoavo", "sesentaidosavo", "sesentaitresavo", "sesentaicuatroavo",
        "sesentaicincoavo", "sesentaiseisavo", "sesentaisieteavo", "sesentaiochoavo", "sesentainueveavo", "setentavo", "sesentainueveavo", "setentaidosavo", "setentaitresavo", "setentaicuatroavo", "setentaicincoavo", "setentaiseisavo", "setentaisieteavo", "setentaiochoavo", "setentainueveavo", "ochentavo", "ochentaiunoavo", "ochentaidosavo", "ochentaitresavo", "ochentaicuatroavo", "ochentaicincoavo",
        "ochentaiseisavo", "ochentaisieteavo", "ochentaiochoavo", "ochentainueveavo", "noventavo", "noventaiunoavo", "noventaidosavo", "noventaitresavo", "noventaicuatroavo", "noventaicincoavo", "noventaiseisavo", " noventaisieteavo", "noventaiochoavo", "noventainueveavo", "centesimo"];

 

    function multiplicacion(num,num2,den,den2){
        var rnum=num*num2;
        var rden=den*den2;
        simplificar(rnum,rden);
   }
   function simplificar(rnum,rden){
    var ent=0;
    while(rnum>=rden){
        rnum-=rden;
        ent++;
    }
    resolver(ent,rnum,rden);
   }

      function resolver(ent, rnum, rden) {
        var rfraccion;
        if (ent > 0) {
            if (rnum > 0) {
                if (ent == 1) {
                    if (rnum > 1) {
                        rfraccion = "un entero y " + numeradores[rnum - 1] + " " + denominadores[rden - 1] + "s";
                    } else {
                        rfraccion = "un entero y un " + denominadores[rden - 1];
                    }

                } else {
                    if (rnum > 1) {
                        rfraccion = numeradores[ent - 1] + " enteros y " + numeradores[rnum - 1] + " " + denominadores[rden - 1] + "s";
                    } else {
                        rfraccion = numeradores[ent - 1] + " enteros y un" + denominadores[rden - 1];
                    }
                }
            } else {
                if (ent == 1) {
                    rfraccion = "un entero";

                } else {
                    rfraccion = numeradores[ent - 1] + " enteros";
                }
           }
        } else {
            if (rnum > 1) {
                rfraccion = numeradores[rnum - 1] + " " + denominadores[rden - 1] + "s";
            } else {
                rfraccion = "un " + denominadores[rden - 1];
            }

        }
        v1.play();
        if (ent > 0) {
            if (rnum == 0) {
                dibujarent(numeradores[ent - 1], 0, denominadores[rden - 1]);
            } else {
                dibujarent(numeradores[ent - 1], numeradores[rnum - 1], denominadores[rden - 1]);
            }
        } else {
            dibujar(numeradores[rnum - 1], denominadores[rden - 1]);
        }
        cl.html("El numero es\n " + rfraccion);
    }
    function dibujarent(ent, num, den) {
        if (num == 0) {            
            img.attr('src', '../fracciones/' + ent + '.png');
            document.getElementById("resultado").style.display='block';
        } else {
            img.attr('src', '../fracciones/' + ent + '.png');
            document.getElementById("resultado").style.display='block';
            img1.attr('src', '../fracciones/' + num + '.png');
            document.getElementById("num").style.display='block';
            img2.attr('src', '../fracciones/' + den + '.png');
            document.getElementById("den").style.display='block';           
        }
    }
    function dibujar(num, den)
    {
        img1.attr('src', '../fracciones/' + num + '.png');
        document.getElementById("num").style.display='block';
        img2.attr('src', '../fracciones/' + den + '.png');
        document.getElementById("den").style.display='block';
    }
    var img = $('#resultado');
    var img1 = $('#num');
    var img2 = $('#den');

    var cl = $("#texto");
    function mostrar() {
        // img.css('background-color', ' #fff');
        if ((den != null) && (den1 != null) && (num != null) && (num1 != null)) {
            multiplicacion(num, num1, den, den1);
        /*    if (confirm("Realizar otra suma") == true) {
                location.reload();
            }*/
            setTimeout('location.reload();', 10000);
           } 
    }
    $("#nueva").on('click', function() {
        location.reload()
    });
});